{% extends 'base.html' %}

{% block head %}

{% endblock %}

{% block body %}

<!-- {% for mess in get_flashed_messages(with_categories=true) %}

<div class="container alert alert-warning alert-dismissible fade show" role="alert">
    <strong>Holy guacamole!</strong> {{ mess }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
</div>

{% endfor %} -->



<div class="container">

  {% if current_user.is_authenticated %}
  <p>Welcome {{ current_user.name }}</p>
    {% if current_user.type == 0 %}
    <p>User Administrator</p>

    {% elif current_user.type == 1 %}
    <p>Staff User</p>

    {% elif current_user.type == 2 %}
    <p>Student User</p>

    {% endif %}
  <a href="{{ url_for('logout') }}">Log Out</a>
  {% else %}
  <a href="{{ url_for('login') }}">Login</a>
  <a href="{{ url_for('register') }}">Register</a>

  {% endif %}

    <h1>Input New Channel Name</h1>
    <!-- <form action="{{ url_for('create_channel') }}" method='POST'>
        <input required type="text" name="c_name" placeholder="Channel Name">
        <button type="submit">SUBMIT</button>
    </form> -->

    <form action="{{ url_for('create_channel') }}" method="POST">
        {{ create_channel_form.hidden_tag() }}
        {{ create_channel_form.name.label }}{{ create_channel_form.name() }}
        {{ create_channel_form.date.label }}{{ create_channel_form.date() }}
        {{ create_channel_form.submit() }}
    </form>

    {% for channel in channels %}
    <h1><a href="{{ url_for('channel', id=channel.id) }}">{{ channel.name }}</a></h1>
    <a href="{{ url_for('delete_channel', id=channel.id) }}">Delete</a>
    {% endfor %}
</div>
{% endblock %}